/*!
 * jquery.scrolldepth.js | v0.3
 * Copyright (c) 2013 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
 !function(a,b,c){"use strict";var e={elements:[],minHeight:0,percentage:!0,testing:!1},f=a(b),g=[];a.scrollDepth=function(d){function i(b,c,e){d.testing?a("#console").html(b+": "+c):("undefined"!=typeof ga&&(ga("send","event","Scroll Depth",b,c,1,{nonInteraction:1}),arguments.length>2&&ga("send","timing","Scroll Depth",b,e,c)),"undefined"!=typeof _gaq&&(_gaq.push(["_trackEvent","Scroll Depth",b,c,1,!0]),arguments.length>2&&_gaq.push(["_trackTiming","Scroll Depth",b,e,c,100])))}function j(a){return{"25%":parseInt(.25*a,10),"50%":parseInt(.5*a,10),"75%":parseInt(.75*a,10),"100%":a-1}}function k(b,c,d){a.each(b,function(b,e){-1===a.inArray(b,g)&&c>=e&&(i("Percentage",b,d),g.push(b))})}function l(b,c,d){a.each(b,function(b,e){-1===a.inArray(e,g)&&a(e).length&&c>=a(e).offset().top&&(i("Elements",e,d),g.push(e))})}function m(a,b){var c,d,e,f=null,g=0,h=function(){g=new Date,f=null,e=a.apply(c,d)};return function(){var i=new Date;g||(g=i);var j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(f),f=null,g=i,e=a.apply(c,d)):f||(f=setTimeout(h,j)),e}}var h=+new Date;d=a.extend({},e,d),a(c).height()<d.minHeight||(i("Percentage","Baseline"),f.on("scroll.scrollDepth",m(function(){var e=a(c).height(),i=b.innerHeight?b.innerHeight:f.height(),m=f.scrollTop()+i,n=j(e),o=+new Date-h;return g.length>=4+d.elements.length?(f.off("scroll.scrollDepth"),void 0):(d.elements&&l(d.elements,m,o),d.percentage&&k(n,m,o),void 0)},500)))}}(jQuery,window,document);